{% extends "../../_1base/bootstrap_base.html" %} 
{% load static %}
{% load crispy_forms_tags %}
{% block title %}Value Stream Mgmt{% endblock title %} 

{% block content %}
<div class="container-fluid">
    <!-- header -->
    <div class="row">
        <div class="col col-md-5">
            Header
        </div>
        <div class="col col-md-7 text-end">
            &nbsp;&nbsp;
            <a href="/">Home</a>
        </div>
    </div>
    <!-- role mgmt header/menu -->
    <div class="row">
        <div class="col col-md-12">

            &nbsp;&nbsp;
           <a href="{% url 'ops_valuestream_mgmt' %}"> Ops Value Stream: {{parent.name}}</a>
            
        </div>
    </div>
    <!-- Role Mgmt -->
    <div class="row">
        <div class="col-md-12">
           <form action="" method="POST">
            {% csrf_token %}
            <input type="text" name="name" id="role_name" size="35" maxlength="60">
            &nbsp;&nbsp;
            <input type="text" name="description" id="role_description" size="35" maxlength="60">
            <input type="hidden" name="parent" id="parent" value="{{parent.id}}">
            <input type="submit" name="submit" value="Add" id="submit"/>
           </form>
           <br>
        </div>
    </div>
    <!-- Listing and Results -->
    <div class="row">
        <div class="col col-md-12">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="2%" align="right">#</th>
                        <th>Development Value Stream Name</th>
                        <th>Description</th>
                        <th>Supporting Ops Steps</th>
                        <th>Steps</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for object in objects %}
                    <tr>
                        <td width="2%" align="right">
                            {{forloop.counter}}
                        </td>
                        <td>{{object.name}}</td>
                        <td width="30%">{{object.description}}</td>
                        <td>
                            <ul>
                                {% for step in object.supported_ops_steps.all %}
                                    <li>{{ step.name }}</li>  <!-- Assuming the step model has a 'name' field -->
                                {% empty %}
                                    
                                {% endfor %}
                            </ul>
                        </td>
                        <td>
                            <a href="{% url 'valuestream_steps' 'dev' object.id %}">Steps</a>
                        </td>
                        <td>                           
                            <a href="">View</a>
                            &nbsp;&nbsp;
                            <a href="{% url 'edit_dev_valuestream' object.id %}">Edit</a>
                            &nbsp;&nbsp;
                            <a href="">Delete</a>

                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <!-- Footer -->
    <div class="row">
        <div class="col col-md-12">
            Footer
        </div>
    </div>
</div>
{% endblock %}