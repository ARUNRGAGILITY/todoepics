{% block content %}
<style>
    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
    }
    th, td {
        padding: 10px;
        text-align: left;
    }
</style>

<h2>Strategic Themes Overview</h2>
{% for theme in themes %}
    <h3>{{ theme.name }}</h3>
    <p>{{ theme.description }}</p>
    {% for objective in theme.objectives.all %}
        <h4>{{ objective.title }}</h4>
        <p>{{ objective.description }}</p>
        <table>
            <tr>
                <th>Key Result</th>
                <th>Q1</th>
                <th>Q2</th>
                <th>Q3</th>
                <th>Q4</th>
            </tr>
            {% for key_result in objective.key_results.all %}
                <tr>
                    <td>{{ key_result.name }}</td>
                    {% for quarter in quarters %}
                        {% for measure in key_result.quarterly_measures.all %}
                            {% if measure.quarter == quarter %}
                                <td>{{ measure.value }}</td>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
    {% endfor %}
{% endfor %}
{% endblock %}
